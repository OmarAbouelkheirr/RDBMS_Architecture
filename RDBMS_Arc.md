# ุดุฑุญ ูุนูุงุฑูุฉ ุงูู RDBMS

## ุฅูู ูู ุงูู RDBMSุ

ุงูู **RDBMS** (Relational Database Management System) ูู ูุธุงู ุฅุฏุงุฑุฉ ููุงุนุฏ ุจูุงูุงุช ุจูุฎุฒู ุงูุจูุงูุงุช ูู **Tables** (ุฌุฏุงูู) ูุฑุชุจุทุฉ ุจุจุนุถ ุนู ุทุฑูู **Primary Keys (PK)** ู**Foreign Keys (FK)**. ุจูุณุชุฎุฏู ูุบุฉ **SQL** ุนุดุงู ููุชุจ ุฃูุงูุฑ ุฒู:
**SELECT**, **INSERT**, **UPDATE**, **DELETE**.

ุงูู **RDBMS** ุจูุชุจุน ููุงุนุฏ ุงูู **ACID** (Atomicity, Consistency, Isolation, Durability) ุนุดุงู ูุถูู ุฅู ุงูู **Transactions** ุชุชู ุจุดูู ุขูู.

### ูุซุงู ูุงูุนู:

ุชุฎูู ุฅูู ุจุชุดุชุบู ุนูู ูุธุงู ููุชุจุฉ. ุนูุฏู ุฌุฏูู **Books** (ุฑูู ุงููุชุงุจุ ุงูุนููุงูุ ุงููุคูู) ูุฌุฏูู **Borrowers** (ุฑูู ุงูุนูููุ ุงูุงุณูุ ุชุงุฑูุฎ ุงูุงุณุชุนุงุฑุฉ).
ูู ุนุงูุฒ ุชุนุฑู ููู ุงุณุชุนุงุฑ ูุชุงุจ ูุนููุ ูุชุนูู **JOIN** ุจูู ุงูุฌุฏูููู ุจุงุณุชุฎุฏุงู ุงูู **PK** ู**FK**.

---

## RDBMS Architecture

ุงูู **RDBMS** ููููู ูู:

1. **Instance**: ุงูุฌุฒุก ุงููู ููู **Memory Structures** (ุฒู **SGA** ู**PGA**) ู**Background Processes**.
2. **Database**: ุงูุฌุฒุก ุงููู ููู ุงูุจูุงูุงุชุ ูุจูุชูุณู ูู:

   * **Physical Structures** (ุฒู **Data Files**).
   * **Logical Structures** (ุฒู **Tables**).

---

### ุงููุฑู ุจูู Physical ู Logical:

* **Physical Structures**: ุงููููุงุช ุงููุนููุฉ ุงููู ุนูู ุงูู Diskุ ุฒู ููู **.mdf** ูู SQL Server.
* **Logical Structures**: ุงูุทุฑููุฉ ุงููู ุจูุดูู ุจููุง ุงูุจูุงูุงุช ุฌูู ุงูู Databaseุ ุฒู ุงูุฌุฏุงูู **Tables** ูู SSMS.

#### ูุซุงู ูุงูุนู:

ูู **SQL Server**ุ ููุง ุชุนูู:

```sql
CREATE DATABASE MyLibrary;
```

* ุงูู **Instance** ูู ุฎุฏูุฉ **SQL Server** ููุณูุง.
* ุงูู **Database** ูู ูููุงุช ุฒู:

  * **MyLibrary.mdf** (ุจูุงูุงุช)
  * **MyLibrary.ldf** (ููุฌ ุงูุชุนุฏููุงุช)

---

## Memory Structures

ุงูู **RDBMS** ุจูุณุชุฎุฏู ุงูุฐุงูุฑุฉ ูุชุญุณูู ุงูุฃุฏุงุกุ ูุจุชุชูุณู ูู:

### 1. System Global Area (SGA)

ุงูู **SGA** ูู ุฐุงูุฑุฉ ูุดุชุฑูุฉ ุจูู ูู ุงูู **Processes**ุ ูุจุชุญุชูู ุนูู:

* **Database Buffer Cache**: ุจูุฎุฒู ุงูู **Data Blocks**.

  * ูู ุงูุจูุงูุงุช ููุฌูุฏุฉ (Cache Hit)ุ ุงูู Query ุชุดุชุบู ุจุณุฑุนุฉ.
  * ูู ูุด ููุฌูุฏุฉ (Cache Miss)ุ ูุฌูุจูุง ูู ุงูู Disk.

* **Redo Log Buffer**: ุจูุฎุฒู ุชุบููุฑุงุช ุงูุจูุงูุงุช ุฒู **INSERT** ู**UPDATE** ูุคูุชูุง ูุจู ูุง ุชุชูุชุจ ูู ูููุงุช ุงูู **Redo Logs**.

* **Shared Pool**: ูุฏู ุจูุดูู:

  * **Library Cache**: ุจูุญุชูุธ ุจู SQL Queries ุงููู ุชู ุชุญููููุง ูุณุจููุง.
  * **Data Dictionary Cache**: ูุนูููุงุช ุนู ุงูู Tables ูColumns.
  * **Control Structures**.

* **Large Pool**: ููุนูููุงุช ุงููุจูุฑุฉ ุฒู ุงูู Backup.

* **Java Pool**: ูู ููู ููุฏ Java ุดุบุงู ุฌูู ุงูู DBMS.

* **Streams Pool**: ุฎุงุต ุจู Oracle Streams (ูุด ุดุงุฆุน ูู SQL Server).

#### ูุซุงู ูุงูุนู:

ูู **SQL Server**ุ ููุง ุชุนูู:

```sql
SELECT * FROM Books;
```

ุงูู **Buffer Cache** ุจูุญุงูู ูุฌูุจ ุงูุจูุงูุงุช ูู ุงูู RAM. ููู ุงูู Query ุชู ุชุญููููุง ูุจู ูุฏูุ ุจูุชุฌุงุจ ุงูู Execution Plan ูู ุงูู **Plan Cache**.

### 2. Program Global Area (PGA)

ุงูู **PGA** ูู ุฐุงูุฑุฉ ุฎุงุตุฉ ุจูู Session ุฃู Server Processุ ูุจุชุญุชูู ุนูู:

* **Private SQL Area**: ุจุชุฎุฒู ุจูุงูุงุช ุงูู Session ุฒู ุงููุชุบูุฑุงุช ูุงูู Cursors.
* **Sort Area**: ุจูุณุชุฎุฏููุง ุฃุซูุงุก ุนูููุงุช ุงููุฑุฒ ุฒู **ORDER BY** ุฃู **GROUP BY**.

#### ูุซุงู ูุงูุนู:

ูู **SQL Server**ุ ูู ูุชุจุช:

```sql
SELECT * FROM Books ORDER BY Title;
```

ุงููุฑุฒ ุจูุชู ุจุงุณุชุฎุฏุงู ุงูู **Sort Area** ุฏุงุฎู ุงูู **PGA**.

---

## Process Structures

ุงูู **RDBMS** ุจูุดุชุบู ูู ุฎูุงู ููุนูู ูู ุงูู Processes:

### 1. Server Processes

ุฏู ุงููุณุคููุฉ ุนู ุชูููุฐ ุงูู Queries ุงููู ุจูุจุนุชูุง ุงููุณุชุฎุฏู. ุจุชููู ุจู:

* Parse ููู Query.
* ุงุณุชุฏุนุงุก ุงูุจูุงูุงุช ูู ุงูุฐุงูุฑุฉ ุฃู ุงููุฑุต.
* ุฅุฑุณุงู ุงููุชูุฌุฉ ูููุณุชุฎุฏู.

#### ูุซุงู ูุงูุนู:

ูู ุชุทุจูู ููุจ ุฎุงุต ุจููุชุจุฉุ ููุง ุงููุณุชุฎุฏู ูุนูู Search ุนู ูุชุงุจุ ุงูุณูุฑูุฑ ุจูุฑุณู Query ููู DBุ ู**Server Process** ุจุชุฌูุจ ุงููุชูุฌุฉ.

### 2. Background Processes

ุนูููุงุช ุจุชุดุชุบู ูู ุงูุฎูููุฉ ุนุดุงู ุชุญุงูุธ ุนูู ุงุณุชูุฑุงุฑ ูุฃุฏุงุก ุงูู Database:

* **DBWn (Database Writer)**: ุจููุชุจ ุงูุชุบููุฑุงุช ูู ุงูู Buffer Cache ุฅูู ูููุงุช ุงูุจูุงูุงุช.

* **LGWR (Log Writer)**: ุจููุชุจ Redo Entries ุนูู ูููุงุช ุงูููุฌ ุนูุฏ:

  * ุชูููุฐ **COMMIT**.
  * ุงูุชูุงุก **Redo Log Buffer**.
  * ูุจู ูุง ููุชุจ **DBWn**.

* **SMON (System Monitor)**: ุจูุนูู Recovery ูู ุงูู Instance ููุนุช.

* **PMON (Process Monitor)**: ุจููุถู ุจุนุฏ ูุดู ุฃู User Process.

* **CKPT (Checkpoint Process)**: ุจูุนูู Checkpoint ูุญูุธ ุงูุญุงูุฉ ุงูุญุงููุฉ.

* **ARCn (Archiver)**: ุจูุฃุฑุดู ูููุงุช ุงูููุฌ ุจุนุฏ ูุง ูุชู Switch.

* **RECO (Recoverer)**: ุจูุนุงูุฌ ุงูู In-Doubt Transactions.

#### ูุซุงู ูุงูุนู:

ูู **SQL Server**ุ ุจุนุฏ ุชูููุฐ:

```sql
UPDATE Books SET Title = 'New Title' WHERE BookID = 1;
COMMIT;
```

ุงูู **LGWR** ุจููุชุจ ุงูุชุบููุฑุงุช ูู ููู **.ldf**ุ ููู ุญุตู Crashุ ุงูู **SMON** ุจูุฑุฌุน ุงูุจูุงูุงุช ูุญุงูุชูุง ุงูุตุญูุญุฉ.

---

## ุฅุฒุงู SQL Server ุจูุทุจู ุงูู Architectureุ

* **SGA** โจ ุฒู **Buffer Pool** ูู SQL Server.
* **Redo Log Buffer** โจ ุฒู **Transaction Log Buffer**.
* **Shared Pool** โจ ุฒู **Plan Cache**.
* **Background Processes** โจ ุฒู **Lazy Writer** ู **Log Writer**.
* **PGA** โจ ุฒู **Memory Grants** ููู Session.

---

## ูุซุงู ุชุทุจููู ูุจูุฑ:

ูู ูุธุงู ุฅุฏุงุฑุฉ ุดุฑูุฉ ุดุญู:

1. ุงูุนููู ูุนูู **Order**.
2. ุงูุณูุฑูุฑ ูุฑุณู **INSERT** Query.
3. **Server Process** ุชุจุฏุฃ ุชููุฐ.
4. Execution Plan ูุชู ุชุฎุฒููู ูู **Shared Pool**.
5. ุงูุจูุงูุงุช ูุชู ุชุญููููุง ุฃู ุฅุถุงูุชูุง ููู **Database Buffer Cache**.
6. **LGWR** ููุชุจ ุงูุชุบููุฑุงุช ูู ุงูู Transaction Log.
7. **DBWn** ููุชุจ ุนูู ููู **.mdf**.
8. ูู ุญุงูุฉ ุญุฏูุซ Crashุ **SMON** ุจูุฑุฌุน ูู ุญุงุฌุฉ ูุญุงูุชูุง ุงูุฃุฎูุฑุฉ ุงููุถูููุฉ.


---
---

๐ **By Omar Abouelkhier**: [@Dev3mora](https://t.me/dev3mora)

๐ฅ **Lecture 10**: [Press Here](https://youtube.com/watch?v=123456789)

๐ **Playlist**: [Press Here](https://youtube.com/playlist?list=PLabcde12345)
